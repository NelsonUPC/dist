"use strict";(self.webpackChunkrocketnotes=self.webpackChunkrocketnotes||[]).push([[170],{8170:(M,Z,a)=>{a.r(Z),a.d(Z,{AuthModule:()=>Y});var p=a(6895),u=a(8996),n=a(4006),e=a(4650),g=a(1481),f=a(1645),h=a(263),m=a(1576),w=a(4859),l=a(3546),v=a(3162),c=a(9549),P=a(4144),_=a(455);function C(t,i){1&t&&(e.TgZ(0,"mat-error",14),e._uU(1," Please enter a valid email address "),e.qZA())}function b(t,i){1&t&&(e.TgZ(0,"mat-error",15),e._uU(1," Email is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function T(t,i){1&t&&(e.TgZ(0,"mat-error",16),e._uU(1," Password is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function q(t,i){1&t&&e._UZ(0,"mat-progress-bar",17)}let R=(()=>{class t{constructor(r,o,s,d){this.router=r,this.titleService=o,this.notificationService=s,this.authenticationService=d}ngOnInit(){this.titleService.setTitle("angular-material-template - Login"),this.authenticationService.logout(),this.createForm()}createForm(){const r=localStorage.getItem("savedUserEmail");this.loginForm=new n.nJ({email:new n.p4(r,[n.kI.required,n.kI.email]),password:new n.p4("",n.kI.required),rememberMe:new n.p4(null!==r)})}login(){const r=this.loginForm.get("email")?.value,o=this.loginForm.get("password")?.value,s=this.loginForm.get("rememberMe")?.value;this.loading=!0,this.authenticationService.login(r.toLowerCase(),o).subscribe(d=>{s?localStorage.setItem("savedUserEmail",r):localStorage.removeItem("savedUserEmail"),this.router.navigate(["/"])},d=>{this.notificationService.openSnackBar(d.error),this.loading=!1})}resetPassword(){this.router.navigate(["/auth/password-reset-request"])}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(u.F0),e.Y36(g.Dx),e.Y36(f.g),e.Y36(h.$))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:25,vars:6,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"container","login-container"],["fxFlex","30%","fxFlex.sm","50%","fxFlex.xs","90%",3,"formGroup"],["src","../../../../assets/images/banner.png","height","316","width","380","aria-label","banner-logo",1,"banner"],[1,"full-width"],["id","emailInput","matInput","","placeholder","Email","formControlName","email","autocomplete","email","type","email"],["id","invalidEmailError",4,"ngIf"],["id","requiredEmailError",4,"ngIf"],["id","passwordInput","matInput","","placeholder","Password","formControlName","password","type","password","autocomplete","current-password"],["id","requiredPasswordError",4,"ngIf"],["formControlName","rememberMe"],[1,"login-actions"],["mat-raised-button","","id","login",3,"disabled","click"],["mat-button","","id","resetPassword","type","button",3,"click"],["mode","indeterminate",4,"ngIf"],["id","invalidEmailError"],["id","requiredEmailError"],["id","requiredPasswordError"],["mode","indeterminate"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"form",1)(2,"mat-card")(3,"mat-card-title"),e._uU(4,"RocketNotes"),e.qZA(),e._UZ(5,"img",2),e.TgZ(6,"mat-card-subtitle"),e._uU(7,"Log in to your account"),e.qZA(),e.TgZ(8,"mat-card-content")(9,"mat-form-field",3),e._UZ(10,"input",4),e.YNc(11,C,2,0,"mat-error",5),e.YNc(12,b,4,0,"mat-error",6),e.qZA(),e.TgZ(13,"mat-form-field",3),e._UZ(14,"input",7),e.YNc(15,T,4,0,"mat-error",8),e.qZA(),e.TgZ(16,"div",3)(17,"mat-slide-toggle",9),e._uU(18,"Remember my email address"),e.qZA()()(),e.TgZ(19,"mat-card-actions",10)(20,"button",11),e.NdJ("click",function(){return o.login()}),e._uU(21,"Login"),e.qZA(),e.TgZ(22,"button",12),e.NdJ("click",function(){return o.resetPassword()}),e._uU(23,"Reset Password"),e.qZA()()(),e.YNc(24,q,1,0,"mat-progress-bar",13),e.qZA()()),2&r&&(e.xp6(1),e.Q6J("formGroup",o.loginForm),e.xp6(10),e.Q6J("ngIf",o.loginForm.controls.email.hasError("email")),e.xp6(1),e.Q6J("ngIf",o.loginForm.controls.email.hasError("required")),e.xp6(3),e.Q6J("ngIf",o.loginForm.controls.email.hasError("required")),e.xp6(5),e.Q6J("disabled",o.loginForm.invalid||o.loading),e.xp6(4),e.Q6J("ngIf",o.loading))},dependencies:[p.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,m.xw,m.Wh,m.yH,w.lW,l.a8,l.dn,l.n5,l.$j,l.hq,v.pW,c.TO,c.KE,P.Nt,_.Rr],styles:[".login-container[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:20px}.banner[_ngcontent-%COMP%]{margin-bottom:20px}.banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px}.login-form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}mat-card-title[_ngcontent-%COMP%]{color:#1ec089}mat-card-subtitle[_ngcontent-%COMP%]{color:#666}mat-error[_ngcontent-%COMP%]{color:#f44336}.login-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}"]}),t})();function x(t,i){1&t&&(e.TgZ(0,"mat-error",10),e._uU(1," Please enter a valid email address "),e.qZA())}function I(t,i){1&t&&(e.TgZ(0,"mat-error",11),e._uU(1," Email is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function y(t,i){1&t&&e._UZ(0,"mat-progress-bar",12)}let A=(()=>{class t{constructor(r,o,s,d){this.authService=r,this.notificationService=o,this.titleService=s,this.router=d}ngOnInit(){this.titleService.setTitle("angular-material-template - Password Reset Request"),this.form=new n.nJ({email:new n.p4("",[n.kI.required,n.kI.email])}),this.form.get("email")?.valueChanges.subscribe(r=>{this.email=r.toLowerCase()})}resetPassword(){this.loading=!0,this.authService.passwordResetRequest(this.email).subscribe(r=>{this.router.navigate(["/auth/login"]),this.notificationService.openSnackBar("Password verification mail has been sent to your email address.")},r=>{this.loading=!1,this.notificationService.openSnackBar(r.error)})}cancel(){this.router.navigate(["/"])}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(h.$),e.Y36(f.g),e.Y36(g.Dx),e.Y36(u.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-password-reset-request"]],decls:18,vars:5,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"container","login-container"],["fxFlex","30%","fxFlex.sm","50%","fxFlex.xs","90%",3,"formGroup"],[1,"full-width"],["id","emailInput","matInput","","placeholder","Email","formControlName","email","autocomplete","email","type","email"],["id","invalidEmailError",4,"ngIf"],["id","requiredEmailError",4,"ngIf"],[1,"login-actions"],["id","submit","mat-raised-button","",3,"disabled","click"],["id","cancel","mat-button","",3,"click"],["mode","indeterminate",4,"ngIf"],["id","invalidEmailError"],["id","requiredEmailError"],["mode","indeterminate"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"form",1)(2,"mat-card")(3,"mat-card-title"),e._uU(4,"RocketNotes"),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6,"Reset your password"),e.qZA(),e.TgZ(7,"mat-card-content")(8,"mat-form-field",2),e._UZ(9,"input",3),e.YNc(10,x,2,0,"mat-error",4),e.YNc(11,I,4,0,"mat-error",5),e.qZA()(),e.TgZ(12,"mat-card-actions",6)(13,"button",7),e.NdJ("click",function(){return o.resetPassword()}),e._uU(14,"Reset Password"),e.qZA(),e.TgZ(15,"button",8),e.NdJ("click",function(){return o.cancel()}),e._uU(16,"Cancel"),e.qZA()()(),e.YNc(17,y,1,0,"mat-progress-bar",9),e.qZA()()),2&r&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(9),e.Q6J("ngIf",o.form.controls.email.hasError("email")),e.xp6(1),e.Q6J("ngIf",o.form.controls.email.hasError("required")),e.xp6(2),e.Q6J("disabled",o.form.invalid||o.loading),e.xp6(4),e.Q6J("ngIf",o.loading))},dependencies:[p.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,m.xw,m.Wh,m.yH,w.lW,l.a8,l.dn,l.n5,l.$j,l.hq,v.pW,c.TO,c.KE,P.Nt]}),t})();var N=a(7392);function J(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a new password "),e.qZA())}function U(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a your current password "),e.qZA())}function k(t,i){1&t&&e._UZ(0,"mat-progress-bar",13)}const E=[{path:"login",component:R},{path:"password-reset-request",component:A},{path:"password-reset",component:(()=>{class t{constructor(r,o,s,d,L){this.activeRoute=r,this.router=o,this.authService=s,this.notificationService=d,this.titleService=L,this.titleService.setTitle("angular-material-template - Password Reset"),this.hideNewPassword=!0,this.hideNewPasswordConfirm=!0}ngOnInit(){this.activeRoute.queryParamMap.subscribe(r=>{this.token=r.get("token")+"",this.email=r.get("email")+"",(!this.token||!this.email)&&this.router.navigate(["/"])}),this.form=new n.nJ({newPassword:new n.p4("",n.kI.required),newPasswordConfirm:new n.p4("",n.kI.required)})}resetPassword(){const r=this.form.get("newPassword")?.value,o=this.form.get("newPasswordConfirm")?.value;r===o?(this.loading=!0,this.authService.passwordReset(this.email,this.token,r,o).subscribe(()=>{this.notificationService.openSnackBar("Your password has been changed."),this.router.navigate(["/auth/login"])},s=>{this.notificationService.openSnackBar(s.error),this.loading=!1})):this.notificationService.openSnackBar("Passwords do not match")}cancel(){this.router.navigate(["/"])}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(h.$),e.Y36(f.g),e.Y36(g.Dx))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-password-reset"]],decls:26,vars:10,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"container","login-container"],["fxFlex","30%","fxFlex.sm","50%","fxFlex.xs","90%",3,"formGroup"],[1,"full-width"],["id","emailInput","matInput","","readonly","","disabled","",3,"value"],["id","passwordInput","matInput","","placeholder","New Password","formControlName","newPassword","autocomplete","new-password",3,"type"],["id","togglePasswordVisibility","matSuffix","",3,"click"],[4,"ngIf"],["id","passwordConfirmInput","matInput","","placeholder","New Password Confirmation","formControlName","newPasswordConfirm","autocomplete","new-password",3,"type"],["id","togglePasswordConfirmVisibility","matSuffix","",3,"click"],[1,"login-actions"],["id","submit","mat-raised-button","",3,"disabled","click"],["id","cancel","mat-button","",3,"click"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"form",1)(2,"mat-card")(3,"mat-card-title"),e._uU(4,"RocketNotes"),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6,"Reset your password"),e.qZA(),e.TgZ(7,"mat-card-content")(8,"mat-form-field",2),e._UZ(9,"input",3),e.qZA(),e.TgZ(10,"mat-form-field",2),e._UZ(11,"input",4),e.TgZ(12,"mat-icon",5),e.NdJ("click",function(){return o.hideNewPassword=!o.hideNewPassword}),e._uU(13),e.qZA(),e.YNc(14,J,2,0,"mat-error",6),e.qZA(),e.TgZ(15,"mat-form-field",2),e._UZ(16,"input",7),e.TgZ(17,"mat-icon",8),e.NdJ("click",function(){return o.hideNewPasswordConfirm=!o.hideNewPasswordConfirm}),e._uU(18),e.qZA(),e.YNc(19,U,2,0,"mat-error",6),e.qZA()(),e.TgZ(20,"mat-card-actions",9)(21,"button",10),e.NdJ("click",function(){return o.resetPassword()}),e._uU(22,"OK"),e.qZA(),e.TgZ(23,"button",11),e.NdJ("click",function(){return o.cancel()}),e._uU(24,"Back to Login"),e.qZA()()(),e.YNc(25,k,1,0,"mat-progress-bar",12),e.qZA()()),2&r&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(8),e.Q6J("value",o.email),e.xp6(2),e.Q6J("type",o.hideNewPassword?"password":"text"),e.xp6(2),e.hij(" ",o.hideNewPassword?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",o.form.controls.newPassword.hasError("required")),e.xp6(2),e.Q6J("type",o.hideNewPasswordConfirm?"password":"text"),e.xp6(2),e.hij(" ",o.hideNewPasswordConfirm?"visibility":"visibility_off"," "),e.xp6(1),e.Q6J("ngIf",o.form.controls.newPasswordConfirm.hasError("required")),e.xp6(2),e.Q6J("disabled",o.form.invalid||o.loading),e.xp6(4),e.Q6J("ngIf",o.loading))},dependencies:[p.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,m.xw,m.Wh,m.yH,N.Hw,w.lW,l.a8,l.dn,l.n5,l.$j,l.hq,v.pW,c.TO,c.KE,c.R9,P.Nt]}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(E),u.Bz]}),t})();var F=a(3927);let Y=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,F.m,S]}),t})()}}]);